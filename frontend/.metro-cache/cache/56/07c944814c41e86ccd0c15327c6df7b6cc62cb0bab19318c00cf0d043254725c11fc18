{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./ImageManipulator.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":116},"end":{"line":4,"column":88,"index":204}}],"key":"T6y/NYMlBGi0asFDc4kC629pCOk=","exportNames":["*"],"imports":1}},{"name":"./NativeImageManipulatorModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":274},"end":{"line":6,"column":66,"index":340}}],"key":"8Y+B1GFyVeLfCjgVr/eyqjz4W8I=","exportNames":["*"],"imports":1}},{"name":"./validators","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":341},"end":{"line":7,"column":49,"index":390}}],"key":"1gp1aMKVyl2/9IK6VJGjIeJ+hoU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _excluded = [\"format\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.manipulateAsync = manipulateAsync;\n  exports.useImageManipulator = useImageManipulator;\n  Object.defineProperty(exports, \"ImageManipulator\", {\n    enumerable: true,\n    get: function () {\n      return ExpoImageManipulator.default;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutProperties\");\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoModulesCore = require(_dependencyMap[2], \"expo-modules-core\");\n  var _ImageManipulatorTypes = require(_dependencyMap[3], \"./ImageManipulator.types\");\n  var _NativeImageManipulatorModule = require(_dependencyMap[4], \"./NativeImageManipulatorModule\");\n  var ExpoImageManipulator = _interopDefault(_NativeImageManipulatorModule);\n  var _validators = require(_dependencyMap[5], \"./validators\");\n  // @needsAudit\n  /**\n   * Manipulate the image provided via `uri`. Available modifications are rotating, flipping (mirroring),\n   * resizing and cropping. Each invocation results in a new file. With one invocation you can provide\n   * a set of actions to perform over the image. Overwriting the source file would not have an effect\n   * in displaying the result as images are cached.\n   * @param uri URI of the file to manipulate. Should be on the local file system or a base64 data URI.\n   * @param actions An array of objects representing manipulation options. Each object should have\n   * __only one__ of the keys that corresponds to specific transformation.\n   * @param saveOptions A map defining how modified image should be saved.\n   * @return Promise which fulfils with [`ImageResult`](#imageresult) object.\n   * @deprecated It has been replaced by the new, contextual and object-oriented API.\n   * Use [`ImageManipulator.manipulate`](#manipulatesource) or [`useImageManipulator`](#useimagemanipulatorsource) instead.\n   */\n  function manipulateAsync(_x) {\n    return _manipulateAsync.apply(this, arguments);\n  }\n  function _manipulateAsync() {\n    _manipulateAsync = (0, _asyncToGenerator.default)(function* (uri) {\n      var actions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var saveOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      (0, _validators.validateArguments)(uri, actions, saveOptions);\n      var _saveOptions$format = saveOptions.format,\n        format = _saveOptions$format === void 0 ? _ImageManipulatorTypes.SaveFormat.JPEG : _saveOptions$format,\n        rest = (0, _objectWithoutProperties.default)(saveOptions, _excluded);\n      var context = ExpoImageManipulator.default.manipulate(uri);\n      for (var action of actions) {\n        if ('resize' in action) {\n          context.resize(action.resize);\n        } else if ('rotate' in action) {\n          context.rotate(action.rotate);\n        } else if ('flip' in action) {\n          context.flip(action.flip);\n        } else if ('crop' in action) {\n          context.crop(action.crop);\n        } else if ('extent' in action && context.extent) {\n          context.extent(action.extent);\n        }\n      }\n      var image = yield context.renderAsync();\n      var result = yield image.saveAsync({\n        format,\n        ...rest\n      });\n\n      // These shared objects will not be used anymore, so free up some memory.\n      context.release();\n      image.release();\n      return result;\n    });\n    return _manipulateAsync.apply(this, arguments);\n  }\n  function useImageManipulator(source) {\n    return (0, _expoModulesCore.useReleasingSharedObject)(() => ExpoImageManipulator.default.manipulate(source), [source]);\n  }\n});","lineCount":85,"map":[[13,2,23,0,"exports"],[13,9,23,0],[13,10,23,0,"manipulateAsync"],[13,25,23,0],[13,28,23,0,"manipulateAsync"],[13,43,23,0],[14,2,56,0,"exports"],[14,9,56,0],[14,10,56,0,"useImageManipulator"],[14,29,56,0],[14,32,56,0,"useImageManipulator"],[14,51,56,0],[15,2,60,0,"Object"],[15,8,60,0],[15,9,60,0,"defineProperty"],[15,23,60,0],[15,24,60,0,"exports"],[15,31,60,0],[16,4,60,0,"enumerable"],[16,14,60,0],[17,4,60,0,"get"],[17,7,60,0],[17,18,60,0,"get"],[17,19,60,0],[18,6,60,0],[18,13,60,9,"ExpoImageManipulator"],[18,33,60,29],[18,34,60,29,"default"],[18,41,60,29],[19,4,60,29],[20,2,60,29],[21,2,60,52],[21,6,60,52,"_babelRuntimeHelpersObjectWithoutProperties"],[21,49,60,52],[21,52,60,52,"require"],[21,59,60,52],[21,60,60,52,"_dependencyMap"],[21,74,60,52],[22,2,60,52],[22,6,60,52,"_objectWithoutProperties"],[22,30,60,52],[22,33,60,52,"_interopDefault"],[22,48,60,52],[22,49,60,52,"_babelRuntimeHelpersObjectWithoutProperties"],[22,92,60,52],[23,2,60,52],[23,6,60,52,"_babelRuntimeHelpersAsyncToGenerator"],[23,42,60,52],[23,45,60,52,"require"],[23,52,60,52],[23,53,60,52,"_dependencyMap"],[23,67,60,52],[24,2,60,52],[24,6,60,52,"_asyncToGenerator"],[24,23,60,52],[24,26,60,52,"_interopDefault"],[24,41,60,52],[24,42,60,52,"_babelRuntimeHelpersAsyncToGenerator"],[24,78,60,52],[25,2,1,0],[25,6,1,0,"_expoModulesCore"],[25,22,1,0],[25,25,1,0,"require"],[25,32,1,0],[25,33,1,0,"_dependencyMap"],[25,47,1,0],[26,2,4,0],[26,6,4,0,"_ImageManipulatorTypes"],[26,28,4,0],[26,31,4,0,"require"],[26,38,4,0],[26,39,4,0,"_dependencyMap"],[26,53,4,0],[27,2,6,0],[27,6,6,0,"_NativeImageManipulatorModule"],[27,35,6,0],[27,38,6,0,"require"],[27,45,6,0],[27,46,6,0,"_dependencyMap"],[27,60,6,0],[28,2,6,0],[28,6,6,0,"ExpoImageManipulator"],[28,26,6,0],[28,29,6,0,"_interopDefault"],[28,44,6,0],[28,45,6,0,"_NativeImageManipulatorModule"],[28,74,6,0],[29,2,7,0],[29,6,7,0,"_validators"],[29,17,7,0],[29,20,7,0,"require"],[29,27,7,0],[29,28,7,0,"_dependencyMap"],[29,42,7,0],[30,2,9,0],[31,2,10,0],[32,0,11,0],[33,0,12,0],[34,0,13,0],[35,0,14,0],[36,0,15,0],[37,0,16,0],[38,0,17,0],[39,0,18,0],[40,0,19,0],[41,0,20,0],[42,0,21,0],[43,0,22,0],[44,2,10,0],[44,11,23,22,"manipulateAsync"],[44,26,23,37,"manipulateAsync"],[44,27,23,37,"_x"],[44,29,23,37],[45,4,23,37],[45,11,23,37,"_manipulateAsync"],[45,27,23,37],[45,28,23,37,"apply"],[45,33,23,37],[45,40,23,37,"arguments"],[45,49,23,37],[46,2,23,37],[47,2,23,37],[47,11,23,37,"_manipulateAsync"],[47,28,23,37],[48,4,23,37,"_manipulateAsync"],[48,20,23,37],[48,27,23,37,"_asyncToGenerator"],[48,44,23,37],[48,45,23,37,"default"],[48,52,23,37],[48,54,23,7],[48,65,24,2,"uri"],[48,68,24,13],[48,70,27,24],[49,6,27,24],[49,10,25,2,"actions"],[49,17,25,19],[49,20,25,19,"arguments"],[49,29,25,19],[49,30,25,19,"length"],[49,36,25,19],[49,44,25,19,"arguments"],[49,53,25,19],[49,61,25,19,"undefined"],[49,70,25,19],[49,73,25,19,"arguments"],[49,82,25,19],[49,88,25,22],[49,90,25,24],[50,6,25,24],[50,10,26,2,"saveOptions"],[50,21,26,26],[50,24,26,26,"arguments"],[50,33,26,26],[50,34,26,26,"length"],[50,40,26,26],[50,48,26,26,"arguments"],[50,57,26,26],[50,65,26,26,"undefined"],[50,74,26,26],[50,77,26,26,"arguments"],[50,86,26,26],[50,92,26,29],[50,93,26,30],[50,94,26,31],[51,6,28,2],[51,10,28,2,"validateArguments"],[51,21,28,19],[51,22,28,19,"validateArguments"],[51,39,28,19],[51,41,28,20,"uri"],[51,44,28,23],[51,46,28,25,"actions"],[51,53,28,32],[51,55,28,34,"saveOptions"],[51,66,28,45],[51,67,28,46],[52,6,30,2],[52,10,30,2,"_saveOptions$format"],[52,29,30,2],[52,32,30,48,"saveOptions"],[52,43,30,59],[52,44,30,10,"format"],[52,50,30,16],[53,8,30,10,"format"],[53,14,30,16],[53,17,30,16,"_saveOptions$format"],[53,36,30,16],[53,50,30,19,"SaveFormat"],[53,72,30,29],[53,73,30,29,"SaveFormat"],[53,83,30,29],[53,84,30,30,"JPEG"],[53,88,30,34],[53,91,30,34,"_saveOptions$format"],[53,110,30,34],[54,8,30,39,"rest"],[54,12,30,43],[54,19,30,43,"_objectWithoutProperties"],[54,43,30,43],[54,44,30,43,"default"],[54,51,30,43],[54,53,30,48,"saveOptions"],[54,64,30,59],[54,66,30,59,"_excluded"],[54,75,30,59],[55,6,31,2],[55,10,31,8,"context"],[55,17,31,15],[55,20,31,18,"ExpoImageManipulator"],[55,40,31,38],[55,41,31,38,"default"],[55,48,31,38],[55,49,31,39,"manipulate"],[55,59,31,49],[55,60,31,50,"uri"],[55,63,31,53],[55,64,31,54],[56,6,33,2],[56,11,33,7],[56,15,33,13,"action"],[56,21,33,19],[56,25,33,23,"actions"],[56,32,33,30],[56,34,33,32],[57,8,34,4],[57,12,34,8],[57,20,34,16],[57,24,34,20,"action"],[57,30,34,26],[57,32,34,28],[58,10,35,6,"context"],[58,17,35,13],[58,18,35,14,"resize"],[58,24,35,20],[58,25,35,21,"action"],[58,31,35,27],[58,32,35,28,"resize"],[58,38,35,34],[58,39,35,35],[59,8,36,4],[59,9,36,5],[59,15,36,11],[59,19,36,15],[59,27,36,23],[59,31,36,27,"action"],[59,37,36,33],[59,39,36,35],[60,10,37,6,"context"],[60,17,37,13],[60,18,37,14,"rotate"],[60,24,37,20],[60,25,37,21,"action"],[60,31,37,27],[60,32,37,28,"rotate"],[60,38,37,34],[60,39,37,35],[61,8,38,4],[61,9,38,5],[61,15,38,11],[61,19,38,15],[61,25,38,21],[61,29,38,25,"action"],[61,35,38,31],[61,37,38,33],[62,10,39,6,"context"],[62,17,39,13],[62,18,39,14,"flip"],[62,22,39,18],[62,23,39,19,"action"],[62,29,39,25],[62,30,39,26,"flip"],[62,34,39,30],[62,35,39,31],[63,8,40,4],[63,9,40,5],[63,15,40,11],[63,19,40,15],[63,25,40,21],[63,29,40,25,"action"],[63,35,40,31],[63,37,40,33],[64,10,41,6,"context"],[64,17,41,13],[64,18,41,14,"crop"],[64,22,41,18],[64,23,41,19,"action"],[64,29,41,25],[64,30,41,26,"crop"],[64,34,41,30],[64,35,41,31],[65,8,42,4],[65,9,42,5],[65,15,42,11],[65,19,42,15],[65,27,42,23],[65,31,42,27,"action"],[65,37,42,33],[65,41,42,37,"context"],[65,48,42,44],[65,49,42,45,"extent"],[65,55,42,51],[65,57,42,53],[66,10,43,6,"context"],[66,17,43,13],[66,18,43,14,"extent"],[66,24,43,20],[66,25,43,21,"action"],[66,31,43,27],[66,32,43,28,"extent"],[66,38,43,34],[66,39,43,35],[67,8,44,4],[68,6,45,2],[69,6,46,2],[69,10,46,8,"image"],[69,15,46,13],[69,24,46,22,"context"],[69,31,46,29],[69,32,46,30,"renderAsync"],[69,43,46,41],[69,44,46,42],[69,45,46,43],[70,6,47,2],[70,10,47,8,"result"],[70,16,47,14],[70,25,47,23,"image"],[70,30,47,28],[70,31,47,29,"saveAsync"],[70,40,47,38],[70,41,47,39],[71,8,47,41,"format"],[71,14,47,47],[72,8,47,49],[72,11,47,52,"rest"],[73,6,47,57],[73,7,47,58],[73,8,47,59],[75,6,49,2],[76,6,50,2,"context"],[76,13,50,9],[76,14,50,10,"release"],[76,21,50,17],[76,22,50,18],[76,23,50,19],[77,6,51,2,"image"],[77,11,51,7],[77,12,51,8,"release"],[77,19,51,15],[77,20,51,16],[77,21,51,17],[78,6,53,2],[78,13,53,9,"result"],[78,19,53,15],[79,4,54,0],[79,5,54,1],[80,4,54,1],[80,11,54,1,"_manipulateAsync"],[80,27,54,1],[80,28,54,1,"apply"],[80,33,54,1],[80,40,54,1,"arguments"],[80,49,54,1],[81,2,54,1],[82,2,56,7],[82,11,56,16,"useImageManipulator"],[82,30,56,35,"useImageManipulator"],[82,31,56,36,"source"],[82,37,56,71],[82,39,56,98],[83,4,57,2],[83,11,57,9],[83,15,57,9,"useReleasingSharedObject"],[83,31,57,33],[83,32,57,33,"useReleasingSharedObject"],[83,56,57,33],[83,58,57,34],[83,64,57,40,"ExpoImageManipulator"],[83,84,57,60],[83,85,57,60,"default"],[83,92,57,60],[83,93,57,61,"manipulate"],[83,103,57,71],[83,104,57,72,"source"],[83,110,57,78],[83,111,57,79],[83,113,57,81],[83,114,57,82,"source"],[83,120,57,88],[83,121,57,89],[83,122,57,90],[84,2,58,0],[85,0,58,1],[85,3]],"functionMap":{"names":["<global>","manipulateAsync","useImageManipulator","useReleasingSharedObject$argument_0"],"mappings":"AAA;OCsB;CD+B;OEE;kCCC,6CD;CFC"},"hasCjsExports":false},"type":"js/module"}]}